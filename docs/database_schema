profiles
- id (uuid, autogenerated)
- name (string)
- email (string)
- created_at (timestamp, autogenerated)

roles
- id (uuid, autogenerated)
- user_id (uuid)
- role (string)
- created_at (timestamp, autogenerated)

ticket_templates
- id (uuid, autogenerated)
- name (string)
- description (string, nullable)
- created_at (timestamp, autogenerated)
- created_by (uuid, autogenerated)
- deleted_at (timestamp, nullable)
- parent_id (uuid, nullable)
    - ticket templates cannot be directly updated, instead we create a new template and set the parent_id to the id of the template we are updating
        - if the parent_id of the template we are updating is set, we will use that parent_id as the new templates parent_id. i.e. the parent_id should always be the "root" template
        - we set "deleted_at" for the old template that has been updated

template_fields
- id (uuid, autogenerated)
- rank (integer)
    - lower ranks are displayed first
- name (string)
- description (string, nullable)
- created_at (timestamp, autogenerated)
- ticket_template_id (uuid)
- type (string)
    - text, number, date, boolean, select, multi-select, customer, agent
    - select and multi-select allow for the user to select from a list of choices
    - customer and agent must be a user id which has the role of customer or agent
- required (boolean)
- default_value (string, nullable)
- choices (text[], optional)
- default (boolean)
    - default fields apply to every template and cannot be removed. however the choices can be edited if it is a select or multi-select field. field type cannot be changed.
- visible_to_customer (boolean)
    - if true, the field will be visible to the customer
- editable_by_customer (boolean)
    - if true, the customer can edit the field

tickets
- id (uuid, autogenerated)
- title (string)
- description (string, nullable)
- assigned_to (uuid)
- created_at (timestamp, autogenerated)
- created_by (uuid, autogenerated)
- ticket_template_id (uuid)
- updated_at (timestamp, autogenerated)
- fields (jsonb)
    - the fields field should be an map of field_id to value
- tags (string[], nullable)

ticket_updates
- id (uuid, autogenerated)
- ticket_id (uuid)
- comment (string, nullable)
- updates (jsonb, nullable)
    - the updates field should be an array of objects with the following fields:
        - field (string)
        - old_value (string)
        - new_value (string)
    - 'comment' and 'updates' should not both be null
- internal (boolean)
    - internal updates are only visible to agents
- created_at (timestamp, autogenerated)

agent_views
- id (uuid, autogenerated)
- name (string)
- filters (jsonb)
    - the filters field should be an array of objects with the following fields:
        - field (string)
        - value (string, optional)
        - order (string, optional)
            - asc, desc
        - either "value" or "order" must be provided
- created_at (timestamp, autogenerated)
- created_by (uuid, autogenerated)
